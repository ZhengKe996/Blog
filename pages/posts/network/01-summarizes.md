---
title: '概述'
date: 2023-10-28
type: NetWork
---

## 因特网概述

### 网络、互联网、因特网

- 若干**节点**和**链路**互连形成网络
- 若干网络通过路由器互连形成**互连网（互联网）**
- **因特网**是当今世界上最大的互联网

![因特网概述](/public/images/network/01/1-1-1.png)

> `Internet`和`internet`的区别

- internet（互联网）是一个通用名词，泛指多个计算机网络互联而成，网络之间的通信协议可以是任意的
- Internet（因特网）是一个专有名词，指当经世界最大的、开放的、由众多网络相互连接而成的特定计算机网络，采用`TCP/IP`协议作为通信规则，前身是美国 ARPANET

### 因特网的三个发展阶段

![因特网概述](/public/images/network/01/1-1-2.png)

### ISP（因特网服务提供者）

因特网已发展成为**基于 ISP 的多层次结构的互连网络**

![因特网概述](/public/images/network/01/1-1-3.png)

### 因特网的标准化工作

- 因特网的标准化工作是**面向公众**的，其任何一个建议标准在成为因特网标准之前都以 RFC 技术文档的形式在因特网上发表。
- RFC（Request For Comments）的意思是“**请求评论**”。

### 因特网的组成

![因特网概述](/public/images/network/01/1-1-4.png)

- 边缘部分：
  - 由所有连接在因特网上的**主机**组成。这部分是**用户直接使用的**，用来进行**通信**（传送数据、音频或视频）和**资源共享**。
- 核心部分：
  - 由**大量网络**和连接这些网络的**路由器**组成。这部分是为**边缘部分提供服务**的（提供连通性和交换）。

## 三种交换方式

### 电路交换

![三种交换方式](/public/images/network/01/1-2-1.png)

在通话时间内，通话的两个用户**始终占用**端到端的通信资源

**计算机之间的数据传送是突发式**的，当使用**电路交换**来传送计算机数据时，其线路的传输效率一般都会**很低**，线路上真正用来传送数据的时间往往不到 10%甚至 1%。

### 分组交换

![三种交换方式](/public/images/network/01/1-2-2.png)

- **优点：**
  - 没有建立连接和释放连接的过程
  - 分组传输过程中逐段占用通信链路，有较高的通信线路利用率。
  - 交换节点可以为每一个分组独立选择转发路由，使得网络有很好的生存性。
- **缺点：**
  - 分组首部带来了额外的传输开销。
  - 交换节点存储转发分组会造成一定的时延。
  - **无法确保通信时端到端通信资源全部可用**，在通信量较大时可能造成网络拥塞。
  - 分组可能会出现失序和丢失等问题。

### 报文交换

- 报文交换是分组交换的前身。
- 在报文交换中，**报文被整个地发送**，而不是拆分成若干个分组进行发送。
- 交换节点将报文**整体接收完成后**才能查找转发表，将整个报文转发到下一个节点。
- 因此，报文交换比分组交换带来的**转发时延要长很多**，需要交换节点具有的**缓存空间也大很多。**

### 三种交换方式对比图

![三种交换方式](/public/images/network/01/1-2-3.png)

- 若要连续传送大量的数据，并且数据传送时间远大于建立连接的时间，则使用电路交换可以有较高的传输效率。然而**计算机的数据传送**往往是**突发式**的，采用**电路交换**时**通信线路的利用率会很低**。
- 报文交换和分组交换都**不需要建立连接**（即预先分配通信资源），在**传送计算机的突发数据**时可以**提高通信线路的利用率**。
- 将报文构造成若干个更小的分组进行**分组交换**，比将整个报文进行报文交换的**时延要小**，并且还可以**避免太长的报文长时间占用链路，有利于差错控制**，同时具有更好的灵活性。

## 计算机网络的分类

- 交换方式：电路交换、报文交换、分组交换
- 使用者：公用网、专用网
- 传输介质：有线、无线
- 覆盖范围：广域网（WAN）、城域网（MAN）、局域网（LAN）、个域网（PAN）
- 拓扑结构：总线型、星型、环型、网状

## 计算机网络的性能指标

### 速率

- 速率是指**数据的传送速率（即每秒传送多少个比特）**，也称为**数据率**（Data Rate）或**比特率**（Bit Rate）
- 速率的基本单位是**比特/秒**（bit/s，可简记为 b/s，有时也记为 bps）
- 速率的常用单位有千比特/秒（kb/s 或 kbps）、兆比特/秒（Mb/s 或 Mbps）、吉比特/秒（Gb/s 或 Gbps）以及太比特/秒（Tb/s 或 Tbps）。

|  数据量单位  |      换算关系      | <img width=150/> |    速率单位     |         换算关系          |
| :----------: | :----------------: | :--------------: | :-------------: | :-----------------------: |
|  比特（b）   |      基本单位      |                  |  比特/秒(b/s)   |         基本单位          |
|  字节（B）   |     1B = 8bit      |                  |                 |                           |
| 千字节（KB） |    KB = 2^10 B     |                  | 千比特/秒(kb/s) |      kb/s = 10^3 b/s      |
| 兆字节（MB） | MB = K·KB = 2^20 B |                  | 兆比特/秒(Mb/s) | Mb/s = k·kb/s = 10^6 b/s  |
| 吉字节（GB） | GB = K·MB = 2^30 B |                  | 吉比特/秒(Gb/s) | Gb/s = k·Mb/s = 10^9 b/s  |
| 太字节（TB） | TB = K·GB = 2^40 B |                  | 太比特/秒(Tb/s) | Tb/s = k·Gb/s = 10^12 b/s |

### 带宽

- 用来表示网络的**通信线路所能传送数据的能力**，即在单位时间内从网络中的某一点到另一点所能通过的**最高数据率**。
- 单位：b/s（kb/s，Mb/s，Gb/s，Tb/s）。
- 数据传送速率 = min [ 主机接口速率，线路带宽，交换机或路由器的接口速率 ]

### 吞吐量

- 吞吐量是指在**单位时间内通过某个网络或接口的实际数据量**。吞吐量常被用于对实际网络的测量，以便获知到底有多少数据量通过了网络。
- 吞吐量受**网络带宽的限制**。

### 时延

- 时延是指数据从网络的一端传送到另一端所耗费的时间，也称为延迟或迟延。 数据可由一个或多个分组、甚至是一个比特构成。

![时延](/public/images/network/01/1-3-1.png)

### 时延带宽积

- 时延带宽积是**传播时延**和**带宽**的乘积。

### 往返时间（RTT）

- 往返时间（Round-Trip Time，RTT）是指从发送端发送数据分组开始，到发送端收到接收端发来的相应确认分组为止，总共耗费的时间。

### 利用率

- 链路利用率

  - 链路利用率是指某条链路有百分之几的时间是被利用的（即有数据通过）。
  - 完全空闲的链路的利用率为零。

- 网络利用率

  - 网络利用率是指网络中所有链路的链路利用率的加权平均。

- **当某链路的利用率增大时，该链路引起的时延就会迅速增加**

- 当网络的通信量较少时，产生的时延并不大，**但在网络通信量不断增大时，分组在交换节点（路由器或交换机）中的排队时延会随之增大**，因此网络引起的时延就会增大。

- **令 D0 表示网络空闲时的时延，D 表示网络当前的时延，那么在理想的假定条件下，可用下式来表示 D、D0 和网络利用率 U 之间的关系。**

![利用率](/public/images/network/01/1-3-2.png)

### 丢包率

- 丢包率是指在一定的时间范围内，传输过程中**丢失的分组数量与总分组数量的比率**。
- 分组丢失主要有以下两种情况：
  - 分组在传输过程中出现**误码**，被传输路径中的**节点交换机**（例如路由器）或**目的主机**检测出误码而**丢弃**。
  - 节点交换机根据**丢弃策略**主动丢弃分组。

## 计算机网络体系结构

![计算机网络体系结构](/public/images/network/01/1-4-1.png)

“分层”可将庞大复杂的问题转化为**若干较小的局部问题**

### 数据链路层需要考虑的主要问题

- 标识网络中各主机（**主机编址**，例如 MAC 地址）
- 从比特流中区分出地址和数据（**数据封装格式**）
- 协调各主机争用总线（**媒体接入控制**）
- 以太网交换机的实现（**自学习和转发帧**）
- 检测数据是否误码（**差错检测**）
- 出现传输差错如何处理（**可靠传输和不可靠传输**）
- 接收方控制发送方注入网络的数据量（**流量控制**）

### 网络层需要考虑的主要问题

- 标识网络和网络中的各主机（**网络和主机共同编址**，例如 IP 地址）
- 路由器转发分组（**路由选择协议、路由表和转发表**）

### 运输层需要考虑的主要问题

- 进程之间基于网络的通信（**进程的标识**，例如端口号）
- 出现传输差错如何处理（**可靠传输和不可靠传输**）

### 应用层需要考虑的主要问题

- 通过应用进程间的交互来完成特定的网络应用
- 进行会话管理和数据表示

![计算机网络体系结构](/public/images/network/01/1-4-2.png)

### 专用术语

1. **实体**是指任何可发送或接收信息的硬件或软件进程。
2. **对等实体**是指通信双方**相同层次**中的实体。
3. **协议**是控制两个**对等实体**在“**水平方向**” 进行“**逻辑通信**”的**规则**的集合。

- 协议的三要素：语法(信息的格式)、语义（双方的操作）、同步（时序关系）

4. 在协议的控制下，**两个对等实体在水平方向的逻辑通信使得本层能够向上一层提供服务。**
5. 要实现本层协议，还需要使用下面一层所提供的服务。
6. 协议是“**水平**”的，而服务是“**垂直**”的。
7. 实体看得见下层提供的服务，但并不知道实现该服务的具体协议。下层的协议对上层的实体是“**透明**”的。
8. 在同一系统中**相邻两层的实体交换信息的逻辑接口**称为**服务访问点 SAP**，它被用于区分不同的服务类型。
9. 帧的“类型”字段、IP 数据报的“协议”字段，TCP 报文段或 UDP 用户数据报的“端口号”字段都是 SAP。
10. 上层要使用下层所提供的服务，必须通过与下层**交换一些命令**，这些命令称为**服务原语**。
11. 对等层次之间传送的数据包称为该层的**协议数据单元**（Protocol Data Unit，PDU）。
12. 同一系统内层与层之间交换的数据包称为**服务数据单元**（Service Data Unit，SDU）。
