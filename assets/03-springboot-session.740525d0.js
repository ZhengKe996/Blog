import{_ as c}from"./Post.ef0d16fe.js";import{u as p,c as i,w as u,o as l,a as n,b as s}from"./app.3f8a0e8e.js";const f="\u524D\u7AEF\u9875\u9762 Set Cookie \u5931\u8D25",y="2025-01-5",C="talk",w=[{property:"og:title",content:"\u524D\u7AEF\u9875\u9762 Set Cookie \u5931\u8D25"}],g={__name:"03-springboot-session",setup(k,{expose:o}){const a={title:"\u524D\u7AEF\u9875\u9762 Set Cookie \u5931\u8D25",date:"2025-01-5",type:"talk",meta:[{property:"og:title",content:"\u524D\u7AEF\u9875\u9762 Set Cookie \u5931\u8D25"}]};return o({frontmatter:a}),p({title:"\u524D\u7AEF\u9875\u9762 Set Cookie \u5931\u8D25",meta:[{property:"og:title",content:"\u524D\u7AEF\u9875\u9762 Set Cookie \u5931\u8D25"}]}),(m,t)=>{const e=c;return l(),i(e,{frontmatter:a},{default:u(()=>t[0]||(t[0]=[n("div",{class:"prose m-auto"},[n("p",null,"\u5728 SpringBoot \u9879\u76EE\u4E2D\u6DFB\u52A0\u914D\u7F6E\u6587\u4EF6"),n("pre",{class:"language-java"},[n("code",{class:"language-java"},[n("span",{class:"token annotation punctuation"},"@Configuration"),s(`
`),n("span",{class:"token annotation punctuation"},"@EnableSpringHttpSession"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"SessionConfig"),s(),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Bean"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"SessionRepository"),s(),n("span",{class:"token function"},"sessionRepository"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"MapSessionRepository"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"ConcurrentHashMap"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token punctuation"},">")]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Bean"),s(`
    `),n("span",{class:"token class-name"},"DefaultCookieSerializerCustomizer"),s(),n("span",{class:"token function"},"cookieSerializerCustomizer"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"DefaultCookieSerializerCustomizer"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token annotation punctuation"},"@Override"),s(`
            `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"customize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"DefaultCookieSerializer"),s(" cookieSerializer"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                cookieSerializer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setSameSite"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"None"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// \u8BBE\u7F6Ecookie\u7684SameSite\u5C5E\u6027\u4E3ANone\uFF0C\u5426\u5219\u8DE8\u57DFset-cookie\u4F1A\u88ABchrome\u6D4F\u89C8\u5668\u963B\u62E6"),s(`
                cookieSerializer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setUseSecureCookie"),n("span",{class:"token punctuation"},"("),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// sameSite\u4E3ANone\u65F6\uFF0CuseSecureCookie\u5FC5\u987B\u4E3Atrue"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1)])),_:1})}}};export{y as date,g as default,w as meta,f as title,C as type};
